"use strict";const buttonEl=document.querySelector(".button"),inputEl=document.querySelector(".input"),listEl=document.querySelector(".list"),listFavEl=document.querySelector(".list_fav");function showpPrintTheData(){event.preventDefault();let t=inputEl.value;fetch(`http://api.tvmaze.com/search/shows?q=${t}`).then(function(t){return t.json()}).then(function(t){listEl.innerHTML="",listFavEl.innerHTML="";for(let e=0;e<t.length;e++){const l=t[e].show.image,i=t[e].show.name,n=t[e].show.id;listEl.innerHTML+=null===l?`<li class='item_li' id='${n}'> <h3>${i}</h3> <img src="https://via.placeholder.com/210x295/ffffff/666666/?text=TV"> </li>`:`<li class='item_li' id='${n}'> <h3>${i}</h3> <img src= '${l.medium}'> </li>`}listEl.innerHTML=listEl.innerHTML,selectTheFavourite()})}function convertToFavStoreInCache(t){const e=t.currentTarget;e.classList.toggle("favourite");const l=document.querySelectorAll("item_li");let i=localStorage.getItem("items")?JSON.parse(localStorage.getItem("items")):[];i.push(l),localStorage.setItem("items",JSON.stringify(i)),console.log(listFavEl);const n=document.querySelectorAll(".favourite");listFavEl.innerHTML+=listFavEl.innerHTML+`<li class='fav_li'> <h4>${e.firstElementChild.firstChild.data}</h4> <img src= '${e.firstChild.nextElementSibling.style.backgroundImage}</li>`,console.log(n),console.log(e)}function selectTheFavourite(){const t=document.querySelectorAll(".item_li");for(const e of t)e.addEventListener("click",convertToFavStoreInCache)}buttonEl.addEventListener("click",showpPrintTheData);